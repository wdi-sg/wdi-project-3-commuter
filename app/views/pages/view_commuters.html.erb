<%= render "partials/nav/views_commuters_nav"%>

<!-- search bar -->
<div class="views-container" id="search-container">

  <div class="row">
    <form class="filter_form" , method="get">
      <fieldset>
        <!-- Routes -->
        <div class="col-lg-4 col-sm-8">
          <i>
            <h3>
              <b>R</b>OUTES<b>:</b>
            </h3>
          </i>
          <%= select("end_route", "start_route", Travel.all.collect(&:start_route), {:prompt => "All Routes"}, {:class => "chosen-select", :multiple => true, data: { placeholder: " Search Routes"} })%>
        </div>
        <!-- interest -->
        <div class="col-lg-4 col-sm-8">
          <i>
            <h3>
              <b>I</b>NTEREST<b>:</b>
            </h3>
          </i>
          <%= select(":interest_category", "interest", Interest.all.collect(&:interest_category), {:prompt => "All Routes"}, {:class => "chosen-select", :multiple => true, data: { placeholder: " Select Interest By Category"} })%>
        </div>
        <!-- Time Slot -->
        <div class="col-lg-4 col-sm-8">
          <i>
            <h3>
              <b>T</b>IME
              <b>S</b>LOT<b>:</b>
            </h3>
          </i>
          <select data-placeholder=" Time Slot" class="chosen-select" multiple tabindex="1">
            <option value=""></option>
            <option value="United States">United States</option>
            <option value="United Kingdom">United Kingdom</option>
            <option value="Afghanistan">Afghanistan</option>
            <option value="Albania">Albania</option>
            <option value="Serbia">Serbia</option>
            <option value="Seychelles">Seychelles</option>
            <option value="Sierra Leone">Sierra Leone</option>
            <option value="Singapore">Singapore</option>
          </select>
        </div>
        <!-- submit button -->
        <button type="submit" class="btn btn-danger search-btn">Search</button>
        <!-- end -->
      </fieldset>
    </form>
  </div>

</div>
<!-- end -->
<!-- card-title -->
<div class="card-container" id="card-container">

  <div class="row card-row">
    <!-- start -->
    <% @users.each do |user| %>
    <% if !current_user.interesteds.include?(user) && !current_user.interestlist.include?(user) %>
    <!-- card -->
    <div class="col-xs-12 col-md-3 card-col">

      <div class="card hovercard">
        <div class="cardheader"></div>
        <div class="avatar">
          <%= image_tag("lordgaben.jpg") %>
        </div>
        <!-- info -->
        <div class="info">
          <div class="title">
            <a target="_blank" href="http://scripteden.com/"><%= user.first_name %>
              <%= user.last_name %></a>
          </div>
          <div class="desc">
            <b>Personal Description:</b>
            <%= user.personal_description %>
          </div>
          <!-- interests -->
          <% user.interests.each do |each_interest| %>
          <div class="desc">
            <b>Interest:</b>
            <%= each_interest.interest %>
          </div>
          <% end %>
          <!-- travel -->
          <% @travel.each do |each_travel| %>
          <% if each_travel.user_id === user.id %>
          <div class="desc">
            <b>Routes:</b>
            <%= each_travel.start_route%>
          </div>
          <% end %>
          <% end %>

          <%= form_for :Relationship, url: matches_path, method: :post do |f| %>
          <%= f.hidden_field :user ,value: user.id %>
          <%= f.submit 'Match & Chat', class: 'btn btn-danger btn-bottom' %>
          <% end %>

        </div>
      </div>
    </div>

    <% end %>
    <% end %>

  </div>

</div>

<!-- former codes -->
<!-- <div class="filter_options_container">

  <form class="filter_form" , method="get">
    <%= select("end_route", "start_route", Travel.all.collect(&:start_route), {:prompt => 'All Routes'}) %><br>
    <input type="submit" value="Filter"/>
  </form>

  <br><br>

  <form class="filter_form" , method="get">
    <% Interest.all.each do |i| %>
    <%= check_box_tag("interests_category[]", i.id) %>
    <%= i.interest %>
    <% end %>
    <input type="submit" value="Filter"/>
  </form>
</div> -->
