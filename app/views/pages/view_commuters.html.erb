<%= render "partials/nav/views_commuters_nav"%>

<div class="filter_options_container">

  <form class="filter_form", method="get">
    <%= select("end_route", "start_route", Travel.all.collect(&:start_route), {:prompt => 'All Routes'}) %><br>
    <input type="submit" value="Filter" />
  </form>

  <br><br>

<form class="filter_form", method="get">
    <% Interest.all.each do |i| %>
        <%= check_box_tag("interests_category[]", i.id) %>
        <%= i.interest %>
    <% end %>
    <input type="submit" value="Filter" />
  </form>
</div>



<br /><br />


  <div class="container-fluid">
    <div class="row">

      <% @users.each do |user| %>
      <div class="col-sm-4">

        <div class="card">
          <div class="card-block">
            <h4 class="card-title"><%= user.first_name %> <%= user.last_name %></h4>
            <p class="card-text">Personal Description: <%= user.personal_description %></p>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item">  My interests are: <ul>
              <% user.interests.each do |each_interest| %>
              <li><%= each_interest.interest %></li>
                <% end %></ul></li>
            <li class="list-group-item">My travel routes are:<br /> <% @travel.each do |each_travel| %>
                  <% if each_travel.user_id === user.id %>
                  Start Station:
                  <%= each_travel.start_route%><br />
                  End Station:
                  <%= each_travel.end_route%><br />
                  MRT Line:
                  <%= each_travel.mrt_line%><br />
                  Timeslot:
                  <%= each_travel.timeslot%><br />
                    <% end %>
              <% end %></li>

          </ul>
          <div class="card-block">
            <%= form_for :Relationship, url: matches_path, method: :post do |f| %>
              <%= f.hidden_field :user ,value: user.id %>
              <%= f.submit 'Match & Chat', class: 'btn btn-danger' %>
            <% end %>
          </div>
        </div>

      </div>
      <% end %>

    </div>
  </div>
